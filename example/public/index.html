<!doctype html>
<html>
<head>
<script src="/socket.io/socket.io.js"></script>
<script>
document.addEventListener('DOMContentLoaded', () => {
  let sock = io.connect(location.origin);
  sock.on('msg', (msg) => {
    console.log('socket msg', msg);
  });
  document.querySelectorAll('button').forEach((button) => {
    button.addEventListener('click', () => {
      console.log('emit', button.id);
      sock.emit(button.id);
    });
  });
});
</script>
</head>
<body>
<button id="test1">join room</button>
<button id="test2">sock broadcast room</button>
<button id="test3">all broadcast room</button>
<button id="test4">broadcast all</button>
<button id="test5">leave room</button>
<button id="test6">rpc</button>
</body>
</html>
